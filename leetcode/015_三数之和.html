<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LeetCode高频算法面试题 - 015 - 三数之和 | 漫步coding</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="漫步coding的博客">
    
    <link rel="preload" href="/project/assets/css/0.styles.2a1e5e66.css" as="style"><link rel="preload" href="/project/assets/js/app.34004228.js" as="script"><link rel="preload" href="/project/assets/js/2.eeb24f79.js" as="script"><link rel="preload" href="/project/assets/js/33.a1ef6a50.js" as="script"><link rel="prefetch" href="/project/assets/js/10.c2b9e207.js"><link rel="prefetch" href="/project/assets/js/11.a59b52a4.js"><link rel="prefetch" href="/project/assets/js/12.f74f8d2f.js"><link rel="prefetch" href="/project/assets/js/13.1cdc54f3.js"><link rel="prefetch" href="/project/assets/js/14.54466736.js"><link rel="prefetch" href="/project/assets/js/15.03163b85.js"><link rel="prefetch" href="/project/assets/js/16.932067a4.js"><link rel="prefetch" href="/project/assets/js/17.ba11dbdc.js"><link rel="prefetch" href="/project/assets/js/18.45216f93.js"><link rel="prefetch" href="/project/assets/js/19.f5fa6b10.js"><link rel="prefetch" href="/project/assets/js/20.6633ae84.js"><link rel="prefetch" href="/project/assets/js/21.4eb648f8.js"><link rel="prefetch" href="/project/assets/js/22.cc2b6b3b.js"><link rel="prefetch" href="/project/assets/js/23.362f3e68.js"><link rel="prefetch" href="/project/assets/js/24.d072fdb4.js"><link rel="prefetch" href="/project/assets/js/25.0a77d255.js"><link rel="prefetch" href="/project/assets/js/26.6e1e0f2a.js"><link rel="prefetch" href="/project/assets/js/27.f9aca207.js"><link rel="prefetch" href="/project/assets/js/28.e92a4d37.js"><link rel="prefetch" href="/project/assets/js/29.4e1dcaab.js"><link rel="prefetch" href="/project/assets/js/3.dc393602.js"><link rel="prefetch" href="/project/assets/js/30.f9d56e6a.js"><link rel="prefetch" href="/project/assets/js/31.fa904c4a.js"><link rel="prefetch" href="/project/assets/js/32.30400fc3.js"><link rel="prefetch" href="/project/assets/js/34.8fb009a7.js"><link rel="prefetch" href="/project/assets/js/35.2a6fda65.js"><link rel="prefetch" href="/project/assets/js/36.294749cf.js"><link rel="prefetch" href="/project/assets/js/37.20683a66.js"><link rel="prefetch" href="/project/assets/js/38.ea5cb3f9.js"><link rel="prefetch" href="/project/assets/js/39.ccdeead5.js"><link rel="prefetch" href="/project/assets/js/4.f876ad59.js"><link rel="prefetch" href="/project/assets/js/40.48a6a4cf.js"><link rel="prefetch" href="/project/assets/js/41.8ef2ff9f.js"><link rel="prefetch" href="/project/assets/js/42.ddbb9271.js"><link rel="prefetch" href="/project/assets/js/43.5eef4375.js"><link rel="prefetch" href="/project/assets/js/44.4a1ccf61.js"><link rel="prefetch" href="/project/assets/js/45.cac19bc8.js"><link rel="prefetch" href="/project/assets/js/46.c5fcc280.js"><link rel="prefetch" href="/project/assets/js/47.5c69ad7c.js"><link rel="prefetch" href="/project/assets/js/48.2f6563d7.js"><link rel="prefetch" href="/project/assets/js/49.a5d08db0.js"><link rel="prefetch" href="/project/assets/js/5.18c5236f.js"><link rel="prefetch" href="/project/assets/js/50.a19adac6.js"><link rel="prefetch" href="/project/assets/js/51.7f17d99c.js"><link rel="prefetch" href="/project/assets/js/52.735ae462.js"><link rel="prefetch" href="/project/assets/js/53.4fa31046.js"><link rel="prefetch" href="/project/assets/js/54.d9a61a57.js"><link rel="prefetch" href="/project/assets/js/55.fdc8fcc9.js"><link rel="prefetch" href="/project/assets/js/56.1622f292.js"><link rel="prefetch" href="/project/assets/js/57.bb9be80d.js"><link rel="prefetch" href="/project/assets/js/58.e6e338fc.js"><link rel="prefetch" href="/project/assets/js/59.56a9e2c0.js"><link rel="prefetch" href="/project/assets/js/6.e86df8f9.js"><link rel="prefetch" href="/project/assets/js/60.68726952.js"><link rel="prefetch" href="/project/assets/js/61.926ef892.js"><link rel="prefetch" href="/project/assets/js/62.0d84d4c8.js"><link rel="prefetch" href="/project/assets/js/63.4a857a88.js"><link rel="prefetch" href="/project/assets/js/64.7348fd03.js"><link rel="prefetch" href="/project/assets/js/7.9ebead10.js"><link rel="prefetch" href="/project/assets/js/8.06f9a33b.js"><link rel="prefetch" href="/project/assets/js/9.882160f3.js">
    <link rel="stylesheet" href="/project/assets/css/0.styles.2a1e5e66.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/project/" class="home-link router-link-active"><!----> <span class="site-name">漫步coding</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/project/" aria-current="page" class="sidebar-link">首页</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2022年MySQL最新面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>2022年Redis最新面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>LeetCode高频算法面试题</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/project/leetcode/前言.html" class="sidebar-link">前言</a></li><li><a href="/project/leetcode/001_两数之和.html" class="sidebar-link">0001 - 两数之和</a></li><li><a href="/project/leetcode/002_两数相加.html" class="sidebar-link">0002 - 两数相加</a></li><li><a href="/project/leetcode/003_无重复字符的最长子串.html" class="sidebar-link">0003 - 无重复字符的最长子串</a></li><li><a href="/project/leetcode/004_寻找两个正序数组的中位数.html" class="sidebar-link">0004 - 寻找两个正序数组的中位数</a></li><li><a href="/project/leetcode/005_最长回文子串.html" class="sidebar-link">0005 - 最长回文子串</a></li><li><a href="/project/leetcode/006_Z字形变换.html" class="sidebar-link">0006 - Z字形变换</a></li><li><a href="/project/leetcode/007_整数反转.html" class="sidebar-link">0007 - 整数反转</a></li><li><a href="/project/leetcode/008_字符串转换整数atoi.html" class="sidebar-link">0008 - 字符串转换整数atoi</a></li><li><a href="/project/leetcode/009_回文数.html" class="sidebar-link">0009 - 回文数</a></li><li><a href="/project/leetcode/010_正则表达式匹配.html" class="sidebar-link">0010 - 正则表达式匹配</a></li><li><a href="/project/leetcode/011_盛最多水的容器.html" class="sidebar-link">0011 - 盛最多水的容器</a></li><li><a href="/project/leetcode/015_三数之和.html" class="active sidebar-link">0015 - 三数之和</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/project/leetcode/017_电话号码的字母组合.html" class="sidebar-link">017 - 电话号码的字母组合</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>更多内容, 漫步coding正在整理中...</span> <!----></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>IDEA系列教程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发工具</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>公众号</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>给你一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c ，使得 a + b + c = 0 ？请你找出所有和为 0 且不重复的三元组。</p> <p>注意：答案中不可以包含重复的三元组。</p> <p><font color="#FF000">题目难度: ★★★, 中等</font></p> <p>示例 1：</p> <div class="language- extra-class"><pre class="language-text"><code>输入：nums = [-1,0,1,2,-1,-4]
输出：[[-1,-1,2],[-1,0,1]]
</code></pre></div><p>示例 2：</p> <div class="language- extra-class"><pre class="language-text"><code>输入：nums = []
输出：[]
</code></pre></div><p>示例 3：</p> <div class="language- extra-class"><pre class="language-text"><code>输入：nums = [0]
输出：[]
</code></pre></div><p>提示：</p> <div class="language- extra-class"><pre class="language-text"><code>0 &lt;= nums.length &lt;= 3000
-10^5 &lt;= nums[i] &lt;= 10^5
</code></pre></div><h3 id="解题思路"><a href="#解题思路" class="header-anchor">#</a> 解题思路</h3> <ul><li>首先对数组进行排序，排序后固定一个数 nums[i]，再使用左右指针指向 nums[i]后面的两端，数字分别为 nums[left] 和 nums[right]，计算三个数的和 sum 判断是否满足为 0，满足则添加进结果集</li> <li>如果 nums[i]大于 0，则三数之和必然无法等于 0，结束循环</li> <li>如果 nums[i] = nums[i-1]，则说明该数字重复，会导致结果重复，所以应该跳过</li> <li>当 sum = 0 时，nums[left] = nums[left+1] 说明结果重复，应该跳过left+1，left++</li> <li>当 sum = 0 时，nums[right] = nums[right−1] 说明结果重复，应该跳过right-1，right--</li> <li>当 sum &lt; 0 时, 移动left, left++</li> <li>当 sum &gt; 0 时, 移动right, right--</li> <li>时间复杂度：O(n^2)，n 为数组长度</li></ul> <p><font color="#FF000">这题的重点是要先排序，排序后在遍历，可以降低时间复杂度</font>。</p> <h3 id="代码实现"><a href="#代码实现" class="header-anchor">#</a> 代码实现</h3> <blockquote><p>tips: 以下代码是使用Go代码实现的不同解法, 文章最后可以看C++、C、Java、Python实现</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>func threeSum(nums []int) [][]int {
  result := make([][]int, 0)
  length := len(nums)
  if length &lt; 3 {
    return result
  }

  sort.Ints(nums)
  i := 0
  for{
    if i &gt;= length-2{
      break
    }
    if nums[i] &gt; 0 {
      break
    }
    if i &gt; 0 &amp;&amp; nums[i] == nums[i-1]{
      i += 1
      continue
    }
    left := i +1
    right := length - 1

    for {
      if left &gt;= right{
        break
      }
      sum := nums[i] + nums[left] + nums[right]

      if sum == 0{
        result = append(result, []int{nums[i], nums[left], nums[right]})
        for {
          if left &lt; right &amp;&amp; nums[left] == nums[left+1]{
            left += 1
          }else{
            left += 1
            break
          }

        }

        for{
          if left &lt; right &amp;&amp; nums[right] == nums[right-1]{
            right -=1
          }else{
            right -= 1
            break
          }
        }
      }

      if sum &lt; 0{
        left += 1
      }

      if sum &gt; 0{
        right -= 1
      }
    }

    i += 1
  }

  return result
}
</code></pre></div><p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/424ad5a2-e9d9-497f-84b0-634e29e07f1e.png!large" alt=""></p> <h3 id="其他语言版本实现"><a href="#其他语言版本实现" class="header-anchor">#</a> 其他语言版本实现</h3> <p>1、Java</p> <div class="language- extra-class"><pre class="language-text"><code>class Solution {
    public static List&lt;List&lt;Integer&gt;&gt; threeSum(int[] nums) {
        List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList();
        int len = nums.length;
        if(nums == null || len &lt; 3) return ans;
        Arrays.sort(nums); // 排序
        for (int i = 0; i &lt; len ; i++) {
            if(nums[i] &gt; 0) break; // 如果当前数字大于0，则三数之和一定大于0，所以结束循环
            if(i &gt; 0 &amp;&amp; nums[i] == nums[i-1]) continue; // 去重
            int L = i+1;
            int R = len-1;
            while(L &lt; R){
                int sum = nums[i] + nums[L] + nums[R];
                if(sum == 0){
                    ans.add(Arrays.asList(nums[i],nums[L],nums[R]));
                    while (L&lt;R &amp;&amp; nums[L] == nums[L+1]) L++; // 去重
                    while (L&lt;R &amp;&amp; nums[R] == nums[R-1]) R--; // 去重
                    L++;
                    R--;
                }
                else if (sum &lt; 0) L++;
                else if (sum &gt; 0) R--;
            }
        }        
        return ans;
    }
}
</code></pre></div><p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/2b4d0877-3aad-42ba-b122-43a11ad60139.png!large" alt=""></p> <p>2、Javascript</p> <div class="language- extra-class"><pre class="language-text"><code>/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var threeSum = function(nums) {
    let ans = [];
    const len = nums.length;
    if(nums == null || len &lt; 3) return ans;
    nums.sort((a, b) =&gt; a - b); // 排序
    for (let i = 0; i &lt; len ; i++) {
        if(nums[i] &gt; 0) break; // 如果当前数字大于0，则三数之和一定大于0，所以结束循环
        if(i &gt; 0 &amp;&amp; nums[i] == nums[i-1]) continue; // 去重
        let L = i+1;
        let R = len-1;
        while(L &lt; R){
            const sum = nums[i] + nums[L] + nums[R];
            if(sum == 0){
                ans.push([nums[i],nums[L],nums[R]]);
                while (L&lt;R &amp;&amp; nums[L] == nums[L+1]) L++; // 去重
                while (L&lt;R &amp;&amp; nums[R] == nums[R-1]) R--; // 去重
                L++;
                R--;
            }
            else if (sum &lt; 0) L++;
            else if (sum &gt; 0) R--;
        }
    }        
    return ans;
};
</code></pre></div><p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/5164e6cd-e985-46ca-a0e7-abdba8360e38.png!large" alt=""></p> <p>3、Python3</p> <div class="language- extra-class"><pre class="language-text"><code>class Solution:
    def threeSum(self, nums: List[int]) -&gt; List[List[int]]:
        
        n=len(nums)
        res=[]
        if(not nums or n&lt;3):
            return []
        nums.sort()
        res=[]
        for i in range(n):
            if(nums[i]&gt;0):
                return res
            if(i&gt;0 and nums[i]==nums[i-1]):
                continue
            L=i+1
            R=n-1
            while(L&lt;R):
                if(nums[i]+nums[L]+nums[R]==0):
                    res.append([nums[i],nums[L],nums[R]])
                    while(L&lt;R and nums[L]==nums[L+1]):
                        L=L+1
                    while(L&lt;R and nums[R]==nums[R-1]):
                        R=R-1
                    L=L+1
                    R=R-1
                elif(nums[i]+nums[L]+nums[R]&gt;0):
                    R=R-1
                else:
                    L=L+1
        return res

</code></pre></div><p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/20c39eb7-2497-4717-9f96-c7f2b6ab6583.png!large" alt=""></p> <p>4、C++</p> <div class="language- extra-class"><pre class="language-text"><code>class Solution {
public:
    vector&lt;vector&lt;int&gt;&gt; threeSum(vector&lt;int&gt;&amp; nums) {
        int n = nums.size();
        sort(nums.begin(), nums.end());
        vector&lt;vector&lt;int&gt;&gt; ans;
        // 枚举 a
        for (int first = 0; first &lt; n; ++first) {
            // 需要和上一次枚举的数不相同
            if (first &gt; 0 &amp;&amp; nums[first] == nums[first - 1]) {
                continue;
            }
            // c 对应的指针初始指向数组的最右端
            int third = n - 1;
            int target = -nums[first];
            // 枚举 b
            for (int second = first + 1; second &lt; n; ++second) {
                // 需要和上一次枚举的数不相同
                if (second &gt; first + 1 &amp;&amp; nums[second] == nums[second - 1]) {
                    continue;
                }
                // 需要保证 b 的指针在 c 的指针的左侧
                while (second &lt; third &amp;&amp; nums[second] + nums[third] &gt; target) {
                    --third;
                }
                // 如果指针重合，随着 b 后续的增加
                // 就不会有满足 a+b+c=0 并且 b&lt;c 的 c 了，可以退出循环
                if (second == third) {
                    break;
                }
                if (nums[second] + nums[third] == target) {
                    ans.push_back({nums[first], nums[second], nums[third]});
                }
            }
        }
        return ans;
    }
};
</code></pre></div><p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/f66fe651-356e-40e5-ab36-b2134e198f22.png!large" alt=""></p> <h3 id="不用语言版本运行情况对比"><a href="#不用语言版本运行情况对比" class="header-anchor">#</a> 不用语言版本运行情况对比</h3> <p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/74fdfcec-15f7-4d18-822d-2cd3728e9f38.png!large" alt=""></p> <p>也欢迎关注我的公众号: <code>漫步coding</code>。 一起交流, 在coding的世界里漫步。</p> <p><img src="https://images.xiaozhuanlan.com/uploads/photo/2022/5cb0c91e-fd83-4a04-8df6-65fb602b3834.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/project/leetcode/011_盛最多水的容器.html" class="prev">
        0011 - 盛最多水的容器
      </a></span> <span class="next"><a href="/project/leetcode/017_电话号码的字母组合.html">
        017 - 电话号码的字母组合
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/project/assets/js/app.34004228.js" defer></script><script src="/project/assets/js/2.eeb24f79.js" defer></script><script src="/project/assets/js/33.a1ef6a50.js" defer></script>
  </body>
</html>
